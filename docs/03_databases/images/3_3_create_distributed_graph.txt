%%{init: {"theme":"base"}}%%
sequenceDiagram
    actor User
    participant GraphModel
    participant ConnectionInterface
    participant SPARQL Queries
    participant Database
    note right of User: Creates graph for area
    User ->>+ GraphModel: GraphModel(container, distributed=True)
    GraphModel ->>+ ConnectionInterface: create_new_distributed_graph(area)
    ConnectionInterface ->> ConnectionInterface: type check area is SubSchedulingArea
    alt area is not SubSchedulingArea
        ConnectionInterface -->> User: TypeError
    end
    ConnectionInterface ->> ConnectionInterface: add_to_graph(area, graph)
    ConnectionInterface ->>+ SPARQL Queries: get_all_nodes_from_area(area)
    SPARQL Queries -->>- ConnectionInterface: str[query text]
    ConnectionInterface ->>+ Database: execute(query_text)
    Database -->>- ConnectionInterface: json[query response]
    ConnectionInterface ->> ConnectionInterface: parse_node_query(graph, query_output)
    ConnectionInterface -->>- GraphModel: dict[type, uuid]
    GraphModel -->>- User: network object
